{"version":3,"file":"js/959.1a5bef21.js","mappings":"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","sources":["webpack://demo/./src/components/commonList.vue","webpack://demo/src/components/commonList.vue","webpack://demo/./src/components/commonList.vue?5924","webpack://demo/./src/components/commonList.vue?9bf0","webpack://demo/./src/views/search/list.vue","webpack://demo/src/views/search/list.vue","webpack://demo/./src/views/search/list.vue?395f","webpack://demo/./src/views/search/list.vue?8e03"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.refresh)?_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isrefreshing),callback:function ($$v) {_vm.isrefreshing=$$v},expression:\"isrefreshing\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"immediate-check\":_vm.immediateCheck},on:{\"load\":_vm.getList},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_vm._t(\"default\",null,{\"list\":_vm.list})],2)],1):_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"immediate-check\":_vm.immediateCheck},on:{\"load\":_vm.getList},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_vm._t(\"default\",null,{\"list\":_vm.list})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--  -->\r\n<template>\r\n  <div>\r\n\r\n    <van-pull-refresh v-model=\"isrefreshing\" @refresh=\"onRefresh\" v-if=\"refresh\">\r\n      <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"getList\"\r\n        :immediate-check=\"immediateCheck\">\r\n        <slot :list=\"list\"></slot>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n\r\n\r\n\r\n\r\n\r\n    <van-list v-else v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"getList\"\r\n      :immediate-check=\"immediateCheck\">\r\n      <slot :list=\"list\"></slot>\r\n    </van-list>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { List, PullRefresh } from \"vant\";\r\nexport default {\r\n  name: 'commonList',\r\n  data() {\r\n    return {\r\n      skip: 0,\r\n      list: [],\r\n      finished: false,\r\n      loading: false,\r\n      isrefreshing: false\r\n    };\r\n  },\r\n  props: {\r\n    limit: {\r\n      type: Number,\r\n      default: 10\r\n    },\r\n    immediateCheck: {\r\n      default: true,\r\n      type: Boolean\r\n    },\r\n    API: {\r\n      required: true,\r\n      type: Function\r\n    },\r\n    params: {\r\n      type: Object\r\n    },\r\n    refresh: {\r\n      default: false,\r\n      type: Boolean\r\n    }\r\n  },\r\n  components: {\r\n    [List.name]: List,\r\n    [PullRefresh.name]: PullRefresh\r\n  },\r\n  created(){\r\n    this.$Bus.$on('listRefresh',(e)=>{\r\n     this.onRefresh()\r\n    })\r\n  }, \r\n\r\n  methods: {\r\n    onRefresh() {\r\n      this.skip = 0;\r\n      this.finished = false;\r\n\r\n      this.getList(true)\r\n    },\r\n    getList(flag) {\r\n      let { skip, limit, params } = this;\r\n      this.API({\r\n        skip, limit,\r\n        ...params\r\n      }).then(res => {\r\n        if (res.code == 0) {\r\n          console.log(res)\r\n          if (flag) {\r\n            this.list = res.data;\r\n            this.isrefreshing = false\r\n          } else {\r\n            this.list.push(...res.data);\r\n          }\r\n\r\n          let len = this.list.length;\r\n          if (len >= res.count) {\r\n            this.finished = true\r\n          } else {\r\n            this.loading = false;\r\n            this.skip = len\r\n          }\r\n        }\r\n      })\r\n\r\n    }\r\n\r\n  },\r\n};\r\n</script>\r\n<style lang='scss'>\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./commonList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./commonList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commonList.vue?vue&type=template&id=35401fe2&\"\nimport script from \"./commonList.vue?vue&type=script&lang=js&\"\nexport * from \"./commonList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"搜索列表\",\"left-arrow\":\"\",\"fixed\":\"\",\"placeholder\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"listPage\"},[_c('commentList',{attrs:{\"API\":_vm.searchApi,\"params\":{key_word: _vm.key_word},\"refresh\":true},scopedSlots:_vm._u([{key:\"default\",fn:function({list}){return _vm._l((list),function(item){return _c('li',{key:item._id},[_c('p',[_vm._v(_vm._s(item.title))])])})}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-nav-bar\r\n      title=\"搜索列表\"\r\n      left-arrow\r\n      @click-left=\"$router.back()\"\r\n      fixed\r\n      placeholder\r\n    ></van-nav-bar>\r\n\r\n    <div class=\"listPage\">\r\n    \r\n        <!-- <van-list v-model=\"loading\" :finished=\"finished\" @load=\"getList\">\r\n       \r\n\r\n          <li v-for=\"item in list\" :key=\"item._id\">\r\n            <p>{{ item.title }}</p>\r\n          </li>\r\n        </van-list> -->\r\n\r\n<commentList :API=\"searchApi\" :params=\"{key_word}\" :refresh=\"true\">\r\n        <template #default=\"{list}\">\r\n  <li v-for=\"item in list\" :key=\"item._id\">\r\n            <p>{{ item.title }}</p>\r\n          </li>\r\n        </template>\r\n</commentList>\r\n\r\n\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { search as searchApi } from \"@/api/api\";\r\n\r\nimport commentList  from \"@/components/commonList.vue\"; \r\n\r\nexport default {\r\n  name: \"searchList\",\r\n  components: {\r\n    'commentList':commentList\r\n  },\r\n  data() {\r\n    return {\r\n\r\n      searchApi\r\n    };\r\n  },\r\n  computed: {\r\n    key_word() {\r\n      return this.$route.query.key_word;\r\n    },\r\n  },\r\n  created() {\r\n\r\n  },\r\n  methods: {\r\n\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.listPage{\r\n    li{\r\n        min-height: 100px;\r\n    }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=d8314692&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=d8314692&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","refresh","on","onRefresh","model","value","isrefreshing","callback","$$v","expression","attrs","finished","immediateCheck","getList","loading","_t","list","staticRenderFns","name","data","skip","props","limit","type","default","API","required","params","components","created","methods","then","res","console","component","$event","$router","back","staticClass","searchApi","key_word","scopedSlots","_u","key","fn","_l","item","_id","_v","_s","title","computed"],"sourceRoot":""}