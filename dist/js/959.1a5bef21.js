"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[959],{1831:function(e,t,i){i.d(t,{Z:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",[e.refresh?t("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.isrefreshing,callback:function(t){e.isrefreshing=t},expression:"isrefreshing"}},[t("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了","immediate-check":e.immediateCheck},on:{load:e.getList},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._t("default",null,{list:e.list})],2)],1):t("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了","immediate-check":e.immediateCheck},on:{load:e.getList},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._t("default",null,{list:e.list})],2)],1)},n=[],l=(i(7037),i(4319)),r=(i(7983),i(4269)),a={name:"commonList",data(){return{skip:0,list:[],finished:!1,loading:!1,isrefreshing:!1}},props:{limit:{type:Number,default:10},immediateCheck:{default:!0,type:Boolean},API:{required:!0,type:Function},params:{type:Object},refresh:{default:!1,type:Boolean}},components:{[r.Z.name]:r.Z,[l.Z.name]:l.Z},created(){this.$Bus.$on("listRefresh",(e=>{this.onRefresh()}))},methods:{onRefresh(){this.skip=0,this.finished=!1,this.getList(!0)},getList(e){let{skip:t,limit:i,params:s}=this;this.API({skip:t,limit:i,...s}).then((t=>{if(0==t.code){console.log(t),e?(this.list=t.data,this.isrefreshing=!1):this.list.push(...t.data);let i=this.list.length;i>=t.count?this.finished=!0:(this.loading=!1,this.skip=i)}}))}}},o=a,d=i(1001),h=(0,d.Z)(o,s,n,!1,null,null,null),u=h.exports},9959:function(e,t,i){i.r(t),i.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",[t("van-nav-bar",{attrs:{title:"搜索列表","left-arrow":"",fixed:"",placeholder:""},on:{"click-left":function(t){return e.$router.back()}}}),t("div",{staticClass:"listPage"},[t("commentList",{attrs:{API:e.searchApi,params:{key_word:e.key_word},refresh:!0},scopedSlots:e._u([{key:"default",fn:function({list:i}){return e._l(i,(function(i){return t("li",{key:i._id},[t("p",[e._v(e._s(i.title))])])}))}}])})],1)],1)},n=[],l=i(8898),r=i(1831),a={name:"searchList",components:{commentList:r.Z},data(){return{searchApi:l.yC}},computed:{key_word(){return this.$route.query.key_word}},created(){},methods:{}},o=a,d=i(1001),h=(0,d.Z)(o,s,n,!1,null,null,null),u=h.exports}}]);
//# sourceMappingURL=959.1a5bef21.js.map